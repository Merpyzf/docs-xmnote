# 💾 对象存储

## 对象存储是什么？

> COS 对象存储（Cloud Object Storage，COS）是腾讯云提供的一种存储海量文件的分布式存储服务。

## 使用对象存储的场景？

1. 设置的书籍封面。
2. 笔记中添加的图片。
3. 自定义的背景图。

在上述的几个场景中，你使用到的图片都会上传到**纸间官方的对象存储服务**。图片会以 URL 的形式保存在应用本地。


> 为什么使用对象存储服务保存图片？
> 
> 1. 保护用户数据的完整性。
> 2. 提升数据备份时的速度。

如果你担心**纸间书摘官方的对象存储服务**不可靠，你还可以选择使用自己的对象存储服务。你可以参考下一章的内容来了解如何配置自己的对象存储服务。

> 🐶 我们很可靠，请放心使用我们提供的服务。🐶

## 自定义 COS 对象存储服务

### 1. 注册腾讯云账号

在使用腾讯云 COS 服务前，您需要先注册一个腾讯云账号。[注册腾讯云账号](https://cloud.tencent.com/register?s_url=https%3A%2F%2Fcloud.tencent.com%2F)（如果您已注册，请跳过该步骤。）

### 2. 完成实名认证

账号注册完成后，使用该账号登录 [腾讯云控制台](https://console.cloud.tencent.com/)，开始实名认证。详细操作指引请参见 [实名认证介绍](https://cloud.tencent.com/document/product/378/3629)。（如果您已完成，请跳过该步骤。）

### 3. 开通 COS 服务

在 [腾讯云控制台](https://console.cloud.tencent.com/) 中，选择**云产品 > 对象存储**，进入 COS 控制台，按照界面提示开通 COS 服务。（如果您已开通，请跳过该步骤。）

### 4. 创建一个存储桶

我们需要创建一个用于存放对象的存储桶：

1. 在 [对象存储控制台](https://console.cloud.tencent.com/cos5) 左侧导航栏中单击**存储桶列表**，进入存储桶管理页。
2. 单击**创建存储桶**，输入以下配置信息，其他配置保持默认即可。
   * 名称：输入存储桶名称。名称设置后不可修改。此处举例输入 examplebucket。
   * 所属地域：存储桶所属地域，选择与您业务最近的一个地区，例如南京地域。
   * 访问权限：存储桶访问权限，此处我们设置为“**公有读私有写**”。
3. 单击**确定**，即可创建完成。

![存储桶创建示例](https://doc-1252413502.cos.ap-nanjing.myqcloud.com/WX20220322-173859%402x.png)

### 5. 创建密钥

你可以在 [密钥管理](https://console.cloud.tencent.com/cam/capi) 中进行密钥的创建。步骤如下图所示：

![创建密钥](https://doc-1252413502.cos.ap-nanjing.myqcloud.com/WX20220322-174854%402x.png)

### 6. 在应用中配置

选择 **设置 > 通用设置 > 对象存储** 即可进入对象存储配置的管理界面，点击右上角的 **添加** 按钮，你将看到如下下界面：

![COS 配置](https://doc-1252413502.cos.ap-nanjing.myqcloud.com/WX20220322-180230%402x.png)

1. 你可以在 [存储桶管理](https://console.cloud.tencent.com/cos/bucket) 中找到存储桶的信息，你能在此页面中获取到**存储桶名称**和**存储桶的所属地域**。

![存储桶信息](https://doc-1252413502.cos.ap-nanjing.myqcloud.com/WX20220322-181245%402x.png)

2. 你可以在 [密钥管理](https://console.cloud.tencent.com/cam/capi) 中获取密钥信息，你能在此页面中获取到 **SECRET_ID** 和 **SECRET_KEY**。

![密钥管理界面](https://doc-1252413502.cos.ap-nanjing.myqcloud.com/WX20220322-181729%402x.png)

将上面 1、2 步骤中获取到的 **存储桶的所属地域 、存储桶名称、SECRET_ID、SECRET_KEY** 依次填入到应用内的表单中即可。填写完毕后点击 **确定** 按钮**，**若配置检测无误，则会将此项配置添加到应用。